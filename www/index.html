<!DOCTYPE html>
<html ng-app="EMS">
<head>
    <!--
      Customize this policy to fit your own app's needs. For more guidance, see:
          https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
      Some notes:
          * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
          * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
          * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
              * Enable inline JS: add 'unsafe-inline' to default-src
      -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <title>麥當勞報報優惠券</title>
    <link rel="stylesheet" href="./lib/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./lib/font-awesome-4.7.0/css/font-awesome-animation.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="lib/framework7/js/framework7.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://unpkg.com/vue"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.5/js/swiper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.16.0/moment-with-locales.min.js"></script>
    <script src="./lib/moment-timezone-with-data.min.js"></script>
</head>

<body class="theme-red">
    <!-- Status bar overlay for full screen mode (PhoneGap) -->
    <div class="statusbar-overlay"></div>
  
    <!-- Views -->
    <div class="views">
        <div class="view view-main">
            <div class="pages">
                <div data-page="index" class="page">
                  <div class="navbar">
                    <div class="navbar-inner sliding">
                      <div class="left">
                        <a class="link back">
                          <i class="icon icon-back"></i>
                          <span class="ios-only"></span>
                        </a>
                      </div>
                      <div class="title">優惠券</div>
                      <div class="right"><h6>使用說明　</h6></div>
                    </div>
                  </div>
                  <div class="toolbar tabbar-labels">
                      <div class="toolbar-inner" style="background-image:url(img/toolbar.png); background-size: cover; background-position: center;">
                      </div>
                  </div>
                  <div class="page-content" style="padding: 55px 0">
                    <div class="card demo-card-header-pic" v-for="(item, index) in ['ShakaChicken', 'Nuggets', 'SpicyChickenWing', 'McFlurry']">
                      <a :href="'main.html?title=' + item + '&index=' + index">
                        <div class="card-header" :style="'background-image:url(img/' + item + '.png); padding:0'"></div>
                        <div class="card-content card-content-padding">
                          期限：{{moment().add(Math.min(3 - index, 2), 'days').format('YYYY 年 M 月 D 日')}} 尚餘：{{moment(moment().add(Math.min(3 - index, 2), 'days').format('YYYY-MM-DD 23:59:59')).diff(moment(), 'day')}} 天 {{moment(moment().add(1, 'days').format('YYYY-MM-DD')).diff(moment(), 'hour') + 1}} 小時
                        </div>
                        <div class="card-footer"><h2>{{used[index] ? '已 截 止' : '兌 換 優 惠'}}</h2></div>
                      </a>
                      <div style="position:absolute; background-color: rgba(255, 255, 255, 0.6); left:0; right:0; top:0; bottom:0;" v-if="used[index]"></div>
                    </div>
                  </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script type="text/javascript" src="js/my-app.js"></script>
<script type="text/javascript" src="js/main.js"></script>

</html>